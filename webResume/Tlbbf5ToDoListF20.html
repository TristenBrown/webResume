<!DOCTYPE html>
<!--
    Name: Tristen Brown
    Pawprint: tlbbf5
    Date: 10-1-2020
    Challenge: To-Do List F20
-->
<html lang="en">
    <head>
        <title>To-Do List</title>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="Tlbbf5ToDoListF20.css">
        <script
                src="https://code.jquery.com/jquery-3.5.1.min.js"
                integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
                crossorigin="anonymous">
        </script>
        <script>
            $(function(){
                $('#listName').dblclick(function(){
                    var newListName = prompt("Please enter the new name for your to-do list", "To-Do List");
                    if((newListName != "") && (newListName != null)){
                        $('#listName').html(newListName);
                    }
                });
                $('#theme').click(function(){
                    if($('#theme').html() == "Dark Theme"){
                        $('body').css("background-color", "black");
                        $('#theme').css("color", "white");
                        $('a').css("color", "white");
                        $('#listName').css("color", "white");
                        $('#toDoListContainer').css("background-color", "gray");
                        $('#toDoList > thead').css("background-color", "darkgray");
                        $('#listForm').css("background-color", "gray");
                        $('#toDoListContainer').css("box-shadow", "5px 5px 20px ghostwhite")
                        $('#theme').html("Light Theme");
                        }
                    else if($('#theme').html() == "Light Theme"){
                        $('body').css("background-color", "ghostwhite");
                        $('#theme').css("color", "black");
                        $('a').css("color", "black");
                        $('#listName').css("color", "black");
                        $('#toDoListContainer').css("background-color", "lightgoldenrodyellow");
                        $('#toDoList > thead').css("background-color", "palegoldenrod");
                        $('#listForm').css("background-color", "antiquewhite");
                        $('#toDoListContainer').css("box-shadow", "5px 5px 20px black")
                        $('#theme').html("Dark Theme");
                    }
                });
                $('#itemPriority').change(function(){                         $('#rangeValue').html($('#itemPriority').val());
                }); 
                $('#itemClear').click(function(){
                    $('#itemTitle').val(null);
                    $('#itemType').val("defaultOption");
                    $('#itemPriority').val("0");
                    $('#rangeValue').html("0");
                    $('#itemDate').val(null);
                })
                $('#addToList').click(function(){
                    if(($('#itemTitle').val() == $('#itemTitle').prop("defaultValue")) || ($('#itemType option:selected').val() == 'defaultOption') || ($('#itemDate').val() == $('#itemDate').prop("defaultValue"))){
                        alert("Enter valid input in each field");
                    }
                    else{
                        var rowCount = $('tbody > tr').length;
                        var rowRow = '<tr id="row' + rowCount + '"></tr>';
                        $('tbody').append(rowRow);
                        var rowID = '#row' + rowCount;
                        console.log($('#itemTitle').val());
                        $(rowID).append('<td>' + $('#itemTitle').val() + '</td>');
                        $(rowID).append('<td>' + $('#itemType option:selected').val());
                        $(rowID).append('<td id="priorityColumn">'); 
                        var currentPriority = parseInt($('#itemPriority').val());
                        for(;currentPriority > 0; currentPriority--){
                            $(rowID + ' > #priorityColumn').append('<img src="images/starIcon.png" alt="star">');
                        } 
                        $(rowID).append('</td>');
                        $(rowID).append('<td>' + $('#itemDate').val() + '</td>');
                        $(rowID).append('<td><img src="images/checkmark.png" alt="checkmark"></td>');
                        $(rowID + " > td").css("text-align","center");
                        $(rowID + " > td > img").css("width", "20px");
                        $(rowID + " > td > img").click(function(){
                            $(rowID).remove();
                        })
                        $('#itemTitle').val(null);
                        $('#itemType').val("defaultOption");
                        $('#itemPriority').val("0");
                        $('#rangeValue').html("0");
                        $('#itemDate').val(null);
                    }
                })
            });
        </script>
    </head>
    <body>
        <div id="top">
            <h4 id="back"><a href="Tlbbf5ProjectsF20.html">Back</a></h4>
            <h4 id="theme">Dark Theme</h4>
        <h1 id="listName">To-Do List</h1>
        </div>
        <div id="toDoListContainer">
            <table id="toDoList">
                <thead>
                    <tr>
                        <th>Title</th>
                        <th>Type</th>
                        <th>Priority</th>
                        <th>Date</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
        <form id="listForm">
            <h3 id="formTitle">Add a To-Do</h3>
            <div id="formRow1">
                <input id="itemTitle" class="row1Item" type="text" placeholder="Title">
                <select id="itemType" class="row1Item">
                    <option value="defaultOption" selected disabled>Type</option>
                    <option>General</option>
                    <option>Shopping</option>
                    <option>Homework</option>
                </select>
                <input id="itemPriority" class="row1Item" type="range" min="0" max="5" value="0">
                <p id="rangeValue">0</p>
                <input id="itemDate" class="row1Item" type="date">
            </div>
            <div id="formRow2">
                <input id="itemClear" class="row2Item" type="button" value="Clear Form">
                <input id="addToList" class="row2Item" type="button" value="Add to List">
            </div>
        </form>
    </body>
</html>